<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Holy - Portfolio</title>
    <meta name="description" content="Portfolio de Holy - Étudiant en sciences informatiques">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    
    <script>
        // Vérifier si l'utilisateur a déjà choisi une langue
        const hasVisited = localStorage.getItem('language-selected');
        const urlParams = new URLSearchParams(window.location.search);
        const forceSelect = urlParams.get('select-lang');
        
        // Si l'utilisateur revient à la racine et a déjà choisi une langue (et pas de force)
        if (hasVisited && !forceSelect) {
            // Rediriger vers la dernière langue utilisée
            const lastLang = localStorage.getItem('last-language') || 'en';
            const basePath = getBasePath();
            window.location.replace(`${basePath}/${lastLang}/home`);
        } else {
            // Sinon, aller à la page de sélection
            window.location.replace('./language-select.html');
        }
        
        function getBasePath() {
            const pathSegments = window.location.pathname.split('/').filter(Boolean);
            if (pathSegments.length > 0) {
                const firstSegment = pathSegments[0];
                const knownPaths = ['fr', 'en', 'home', 'projects', 'about', 'contact'];
                if (!knownPaths.includes(firstSegment)) {
                    return '/' + firstSegment;
                }
            }
            return '';
        }
    </script>
</head>
<body>
    <!-- Fallback au cas où JavaScript est désactivé -->
    <p>Redirecting... / Redirection...</p>
    <p><a href="language-select.html">Click here if not redirected / Cliquez ici si pas de redirection</a></p>
</body>
</html>